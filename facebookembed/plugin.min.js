tinymce.PluginManager.add("facebookembed",function(a,b){function c(){a.windowManager.open({title:"Embed Facebook post",width:400,height:110,body:[{type:"textbox",name:"post",label:"Embed code"},{type:"container",label:"Width",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:4,size:3,onchange:!1,ariaLabel:"Width"}]}],onsubmit:function(b){var c=!1,d=/=https?\:\/\/\w{3}\.facebook\.com\/(.*)\/(videos?|posts?)\/\d+/i,e=d.exec(decodeURIComponent(b.data.post));null===e?c=!0:e.length||(c=!0),c||(FbBEmbedWidth=parseInt(b.data.width),FbImage=document.createElement("img"),FbImage.src=tinymce.baseURL+"/plugins/facebookembed/img/facebookembedpost-tinymce-placeholder.png",FbImage.setAttribute("class","FacebookEmbedPost"),FbImage.setAttribute("data-post",e[0].replace("=","")),FbImage.setAttribute("data-width",FbBEmbedWidth?FbBEmbedWidth:960),a.insertContent(FbImage.outerHTML))}})}a.addButton("facebookembed",{text:"Facebook embed",icon:!1,context:"toolbar",onclick:function(){c()}}),a.addMenuItem("facebookembed",{text:"Embed Facebook post",context:"tools",onclick:function(){c()}})});